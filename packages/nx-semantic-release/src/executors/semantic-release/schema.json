{
  "$schema": "http://json-schema.org/schema",
  "$id": "theunderscorer-semantic-release",
  "title": "NX Semantic Release",
  "description": "Automate versioning and CHANGELOG generation.",
  "type": "object",
  "cli": "nx",
  "properties": {
    "dryRun": {
      "description": "See what commands would be run, without committing to git or updating files.",
      "type": "boolean",
      "default": false
    },
    "ci": {
      "description": "Set to false to skip CI checks.",
      "type": "boolean",
      "default": true
    },
    "changelog": {
      "description": "Whether to generate changelog.",
      "type": "boolean",
      "default": true
    },
    "changelogFile": {
      "description": "Path to changelog file.",
      "type": "string",
      "default": "${PROJECT_DIR}/CHANGELOG.md"
    },
    "repositoryUrl": {
      "description": "The URL of the repository to release from.",
      "type": "string",
      "default": ""
    },
    "tagFormat": {
      "description": "Tag format to use.",
      "type": "string"
    },
    "npm": {
      "description": "Whether to bump package.json version and publish to registry (if package is public).",
      "type": "boolean",
      "default": true
    },
    "github": {
      "description": "Whether to create github release.",
      "type": "boolean",
      "default": true
    },
    "buildTarget": {
      "description": "The target of the build command.",
      "type": "string"
    },
    "outputPath": {
      "description": "The path to the output directory.",
      "type": "string"
    },
    "commitMessage": {
      "description": "The commit message to use when committing the release.",
      "type": "string",
      "default": "chore(release): ${nextRelease.version} [skip ci]\\n\\n${nextRelease.notes}"
    },
    "gitAssets": {
      "description": "Path to assets to include in git commit.",
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "plugins": {
      "description": "Additional plugins for semantic-release. Note: these plugins will be added before @semantic-release/git, which means that you can assets generated by them to git as well.",
      "type": "array",
      "items": {
        "oneOf": [
          {
            "type": "string"
          },
          {
            "type": "array",
            "items": {
              "oneOf": [
                {"type": "string"},
                {"type": "object"}
              ]
            }
          }
        ]
      }
    },
    "branches": {
      "description": "Branches configuration for workflow release",
      "type": "array",
      "items": {
        "oneOf": [
          { "type": "string", "maxLength": 100, "minLength": 1 },
          {
            "type": "object",
            "properties": {
              "name": { "type": "string", "maxLength": 100, "minLength": 1 },
              "channel": {
                "oneOf": [
                  { "type": "string", "maxLength": 100, "minLength": 1 },
                  { "const": false }
                ]
              },
              "range": { "type": "string", "maxLength": 100, "minLength": 1 },
              "prerelease": {
                "oneOf": [
                  { "type": "string", "maxLength": 100, "minLength": 1 },
                  { "type": "boolean" }
                ]
              }
            },
            "additionalProperties": false,
            "required": ["name"]
          }
        ]
      },
      "uniqueItems": true,
      "default": [
        "master",
        "main",
        "next",
        { "name": "beta", "prerelease": true },
        { "name": "alpha", "prerelease": true }
      ]
    }
  }
}
